@model prj_BIZ_System.Models.CatalogListModel

@{
    ViewBag.Title = "CatalogCreate";
}

@section pagestyle{
    <link href="/stylesheets/registerd.css" rel="stylesheet" />
}


<div class="article_col1">
    @{
        Html.RenderAction("_NavSearchPartial");
    }
    <article class="article_col2 form_box">
        <h2>上傳影音型錄</h2>
        <form action="@Url.Action("VideoUpload","User")" class="uploaddm" method="post" >

            <div class="uploadlist">
                <label for="movieurl" class="regis_col02L">影音名稱:</label>
                <input type="text" name="video_name" class="regis_col02R">
                <label for="movieurl" class="regis_col02L"> 影音網址:</label>
                <div class="regis_col02R">
                    <span>https://www.youtube.com/watch?v=</span>
                    <input type="text" name="youtube_site" />
                </div>

            </div>

            <div class="centerbox">
                <button type="submit" class="submitbu">確定送出</button>
            </div>
        </form>
    </article>	
</div>

<script>
    $(function () {
        init();
    });

    function init() {
        var re_for_pic = /\.(jpg|gif|png|JPG|GIF|PNG)$/i;
        var re_for_pdf = /\.(pdf|PDF)$/i;
        $("#form").submit(function () {
            var catalog_name = $("#catalog_name").val();
            var errMsg = checkValidationOk(catalog_name);
            if (errMsg != '') {
                alert(errMsg);
                return false;
            }

            var pic = $("input[name='cover_file']").val();
            if (!re_for_pic.test(pic)) {
                alert("上傳小圖 必須為 jpg、gif、png ");
                return false;
            }

            var file = $("input[name='catalog_file']").val();
            if (!re_for_pdf.test(file))
            {
                alert("上傳檔案 必須為 pdf檔");
                return false;
            }
            $("#loaderdiv").css("display", "block");
        });
    }

    function checkValidationOk(catalog_name) {
        var errMsg = '';
        if (catalog_name == null || catalog_name == '') {
            errMsg += '型錄名稱不可為空白\n';
        } 
        return errMsg;
    }
</script>